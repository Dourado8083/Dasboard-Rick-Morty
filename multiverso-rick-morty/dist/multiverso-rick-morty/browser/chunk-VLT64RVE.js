import{a as F}from"./chunk-OYJWENBR.js";import{C as u,E as w,G as M,H as f,J as O,K as P,L as E,M as t,N as i,O as _,P as b,Q as m,R as l,S as o,T as x,U as C,V as S,X as y,Z as T,_ as A,ba as V,ca as D,ia as I,o as k,s as p,t as g,y as r,z as h}from"./chunk-DC7Z5ANC.js";var Y=(n,s)=>s.id;function z(n,s){n&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),o(5,"Loading..."),i()()(),t(6,"p",6),o(7,"Carregando..."),i()()())}function j(n,s){if(n&1){let e=b();t(0,"div",20)(1,"div",21)(2,"div",22)(3,"div",23)(4,"span",24),o(5,"\u{1F4FA}"),i()(),t(6,"span",25),o(7),i()(),t(8,"div",26)(9,"h3",27),o(10),i(),t(11,"div",28)(12,"div",29),_(13,"i",30),t(14,"span",31),o(15),T(16,"date"),i()(),t(17,"div",29),_(18,"i",32),t(19,"span",31),o(20),i()()(),t(21,"button",33),m("click",function(){let d=p(e).$implicit,c=l(3);return g(c.episodesDetails(d))}),_(22,"i",34),o(23," Ver Arquivo "),i()()()()}if(n&2){let e=s.$implicit;r(7),x(e.episode),r(3),x(e.name),r(5),x(A(16,4,e.air_date,"dd/MM/yyyy")),r(5),C("",e.characters.length," personagens")}}function L(n,s){if(n&1&&(t(0,"div",18),P(1,j,24,7,"div",20,Y),i()),n&2){let e=l(2);r(),E(e.episodes)}}function $(n,s){if(n&1){let e=b();t(0,"button",45),m("click",function(){p(e);let d=l(3);return g(d.goToPage(1))}),o(1,"1"),i()}}function B(n,s){if(n&1){let e=b();t(0,"button",46),m("click",function(){let d=p(e).$implicit,c=l(3);return g(c.goToPage(d))}),o(1),i()}if(n&2){let e=s.$implicit,a=l(3);M("active",e===a.pageActive),r(),C(" ",e," ")}}function N(n,s){if(n&1){let e=b();t(0,"button",45),m("click",function(){p(e);let d=l(3);return g(d.goToPage(d.totalofPage))}),o(1),i()}if(n&2){let e=l(3);r(),C(" ",e.totalofPage," ")}}function q(n,s){if(n&1){let e=b();t(0,"div",19)(1,"div",35)(2,"button",36),m("click",function(){p(e);let d=l(2);return g(d.previousPage())}),_(3,"i",37),t(4,"span",38),o(5,"Anterior"),i()(),t(6,"div",39),u(7,$,2,0,"button",40),P(8,B,2,3,"button",41,O),u(10,N,2,1,"button",40),i(),t(11,"button",42),m("click",function(){p(e);let d=l(2);return g(d.nextPage())}),t(12,"span",38),o(13,"Pr\xF3xima"),i(),_(14,"i",43),i()(),t(15,"p",44),o(16),i()()}if(n&2){let e=l(2);r(2),w("disabled",e.pageActive===1),r(5),f(7,e.pageActive>3?7:-1),r(),E(e.getPageNumbers()),r(2),f(10,e.pageActive<e.totalofPage-2?10:-1),r(),w("disabled",e.pageActive===e.totalofPage),r(5),S(" P\xE1gina ",e.pageActive," de ",e.totalofPage," ")}}function R(n,s){if(n&1&&(t(0,"div",7)(1,"div",8)(2,"h1",9)(3,"span",10),o(4,"\u{1F4FA}"),i(),t(5,"span",11),o(6,"Epis\xF3dios Interdimensional"),i()()(),t(7,"div",12)(8,"div",13)(9,"div",14)(10,"div",15),o(11,"\u{1F4FA}"),i(),t(12,"div")(13,"div",16),o(14),i(),t(15,"div",17),o(16,"Epis\xF3dios"),i()()()(),t(17,"div",13)(18,"div",14)(19,"div",15),o(20,"\u{1F4C4}"),i(),t(21,"div")(22,"div",16),o(23),i(),t(24,"div",17),o(25,"Atual"),i()()()(),t(26,"div",13)(27,"div",14)(28,"div",15),o(29,"\u{1F4DA}"),i(),t(30,"div")(31,"div",16),o(32),i(),t(33,"div",17),o(34,"Total de P\xE1ginas"),i()()()()(),u(35,L,3,0,"div",18)(36,q,17,6,"div",19),i()),n&2){let e=l();r(14),x(e.episodes.length),r(9),x(e.pageActive),r(9),x(e.totalofPage),r(3),f(35,e.episodes.length>0?35:-1),r(),f(36,e.episodes.length>0?36:-1)}}var U=(()=>{class n{constructor(e,a){this.apiService=e,this.router=a,this.episodes=[],this.pageActive=1,this.totalofPage=0,this.Loading=!1}ngOnInit(){this.getEpisodes(this.pageActive)}getEpisodes(e){this.Loading=!0,this.apiService.getEpisodes(e).subscribe({next:a=>{this.episodes=a.results,this.totalofPage=a.info.pages,this.pageActive=e,this.Loading=!1},error:a=>{console.error("Erro ao buscar epis\xF3dios:",a),this.Loading=!1},complete:()=>{console.log("Busca de epis\xF3dios completa.")}})}episodesDetails(e){this.router.navigate(["/episodes",e.id])}nextPage(){this.pageActive<this.totalofPage&&(this.getEpisodes(this.pageActive+1),window.scrollTo({top:0,behavior:"smooth"}))}previousPage(){this.pageActive>1&&(this.getEpisodes(this.pageActive-1),window.scrollTo({top:0,behavior:"smooth"}))}goToPage(e){e>=1&&e<=this.totalofPage&&(this.getEpisodes(e),window.scrollTo({top:0,behavior:"smooth"}))}getPageNumbers(){let e=[],d=Math.max(1,this.pageActive-Math.floor(2.5)),c=Math.min(this.totalofPage,d+5-1);c-d<4&&(d=Math.max(1,c-5+1));for(let v=d;v<=c;v++)e.push(v);return e}static{this.\u0275fac=function(a){return new(a||n)(h(F),h(I))}}static{this.\u0275cmp=k({type:n,selectors:[["app-episodes"]],standalone:!0,features:[y],decls:3,vars:1,consts:[[1,"bg"],[1,"loading-header"],[1,"text-center"],[1,"spinner-portal","mb-4"],["role","status",1,"spinner-border","text-dark"],[1,"visually-hidden"],[1,"text-white","fs-5","fw-semibold","loading-text"],[1,"container-fluid","px-4","py-4"],[1,"page-header","mb-4","p-4","rounded-4"],[1,"portal-title","d-flex","align-items-center","gap-3","mb-0"],[1,"icons"],[1,"glitch"],[1,"row","g-3","mb-4"],[1,"col-md-4"],[1,"stat-card","d-flex","align-items-center","gap-3","p-3","rounded-3"],[1,"stat-icon"],[1,"stat-number"],[1,"stat-label"],[1,"row","g-4","mb-4"],[1,"pagination-wrapper","p-4","rounded-4"],[1,"col-12","col-sm-6","col-md-4","col-xl-3"],[1,"episode-card","h-100","rounded-4","overflow-hidden"],[1,"episode-header","d-flex","justify-content-between","align-items-center","p-3"],[1,"episode-icon-wrapper","rounded-circle","d-flex","align-items-center","justify-content-center"],[1,"fs-2"],[1,"episode-code","badge","rounded-pill","px-3","py-2"],[1,"episode-content","p-3","d-flex","flex-column","gap-3"],[1,"episode-title","fs-5","fw-bold","mb-0"],[1,"d-flex","flex-column","gap-2"],[1,"d-flex","align-items-center","gap-2","text-white-50"],[1,"bi","bi-calendar3","text-success"],[1,"small"],[1,"bi","bi-people","text-success"],[1,"btn","btn-episode","w-100","rounded-3","fw-bold","mt-auto",3,"click"],[1,"bi","bi-eye-fill"],[1,"d-flex","justify-content-center","align-items-center","gap-2","flex-wrap","mb-3"],[1,"btn","pagination","d-flex","align-items-center","gap-2",3,"click","disabled"],[1,"bi","bi-chevron-left"],[1,"d-none","d-md-inline"],[1,"d-flex","gap-2","align-items-center"],[1,"btn","pagination"],[1,"btn","pagination-btn",3,"active"],[1,"btn","paginationd-flex","align-items-center","gap-2",3,"click","disabled"],[1,"bi","bi-chevron-right"],[1,"text-center","text-black-50"],[1,"btn","pagination",3,"click"],[1,"btn","pagination-btn",3,"click"]],template:function(a,d){a&1&&(t(0,"div",0),u(1,z,8,0,"div",1)(2,R,37,5),i()),a&2&&(r(),f(1,d.Loading?1:2))},dependencies:[D,V],styles:['.bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);position:relative;overflow-x:hidden}.bg[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:radial-gradient(circle at 20% 50%,rgba(255,255,255,.05),transparent 50%),radial-gradient(circle at 80% 80%,rgba(255,255,255,.05),transparent 50%);pointer-events:none;animation:_ngcontent-%COMP%_float 20s ease-in-out infinite}.loading-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#212529bf;display:flex;justify-content:center}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}.spinner-portal[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;margin:0 auto}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-text 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse-text{0%,to{opacity:1}50%{opacity:.6}}.page-header[_ngcontent-%COMP%]{background:#0003;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(0,255,136,.3);box-shadow:0 8px 32px #0000004d}.portal-title[_ngcontent-%COMP%]{font-weight:900;color:#fff;font-size:2.5rem}.icons[_ngcontent-%COMP%]{font-size:3rem;animation:_ngcontent-%COMP%_bounce 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.glitch[_ngcontent-%COMP%]{text-shadow:0 0 10px rgba(0,255,136,.8)}.stat-card[_ngcontent-%COMP%]{background:#0003;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(0,255,136,.3);transition:all .3s}.stat-card[_ngcontent-%COMP%]:hover{background:#00ff881a;border-color:#0f8;transform:translateY(-4px);box-shadow:0 8px 24px #00ff884d}.stat-icon[_ngcontent-%COMP%]{font-size:2.5rem}.stat-number[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:#0f8;text-shadow:0 0 10px rgba(0,255,136,.3)}.stat-label[_ngcontent-%COMP%]{font-size:.85rem;color:#ffffffb3;text-transform:uppercase;letter-spacing:.5px;font-weight:600}.episode-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a2e,#16213e);border:2px solid rgba(0,255,136,.3);transition:all .3s}.episode-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);border-color:#0f8;box-shadow:0 15px 40px #0f86}.episode-header[_ngcontent-%COMP%]{background:#00ff881a;border-bottom:2px solid rgba(0,255,136,.3)}.episode-icon-wrapper[_ngcontent-%COMP%]{width:60px;height:60px;background:linear-gradient(45deg,#0f8,#00d4ff);box-shadow:0 4px 15px #0f86}.episode-code[_ngcontent-%COMP%]{background:#0f83;border:2px solid #00ff88!important;color:#0f8!important;font-weight:700;letter-spacing:1px}.episode-title[_ngcontent-%COMP%]{color:#0f8;text-shadow:0 0 5px rgba(0,255,136,.3);min-height:2.4em;line-height:1.2}.btn-episode[_ngcontent-%COMP%]{background:linear-gradient(45deg,#0f8,#00d4ff);border:none;color:#1a1a2e;transition:all .3s}.btn-episode[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #00ff8880}.pagination-wrapper[_ngcontent-%COMP%]{background:#0003;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(0,255,136,.3);box-shadow:0 8px 32px #0000004d}.pagination[_ngcontent-%COMP%]{background:#00ff881a;border:2px solid rgba(0,255,136,.3);color:#fff;font-weight:600;transition:all .3s;min-width:45px}.pagination[_ngcontent-%COMP%]:hover:not(:disabled):not(.active){background:#0f83;border-color:#0f8;transform:translateY(-2px);box-shadow:0 4px 15px #00ff884d}.pagination.active[_ngcontent-%COMP%]{background:linear-gradient(45deg,#0f8,#00d4ff);color:#1a1a2e;border-color:#0f8;box-shadow:0 4px 15px #00ff8880}.pagination[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}@media (max-width: 768px){.portal-title[_ngcontent-%COMP%]{font-size:1.8rem}.icons[_ngcontent-%COMP%]{font-size:2.5rem}}']})}}return n})();export{U as EpisodesComponent};
